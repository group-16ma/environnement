console.log("%cAKFN - MOBILITÉ MONTRÉAL - 2019","color:#fff; background-color:#000; padding:5px 10px; font-size:14px;"),function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=142)}({142:function(e,t,i){i(143),e.exports=i(144)},143:function(e,t,i){(function(t){!function(t){"use strict";var i,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",c="object"==typeof e,u=t.regeneratorRuntime;if(u)c&&(e.exports=u);else{(u=t.regeneratorRuntime=c?e.exports:{}).wrap=w;var h="suspendedStart",f="suspendedYield",p="executing",d="completed",y={},v={};v[s]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(I([])));m&&m!==n&&r.call(m,s)&&(v=m);var b=O.prototype=E.prototype=Object.create(v);k.prototype=b.constructor=O,O.constructor=k,O[l]=k.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,O):(e.__proto__=O,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(b),e},u.awrap=function(e){return{__await:e}},P(A.prototype),A.prototype[a]=function(){return this},u.AsyncIterator=A,u.async=function(e,t,i,n){var r=new A(w(e,t,i,n));return u.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},P(b),b[l]="Generator",b[s]=function(){return this},b.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},u.values=I,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=i)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=i),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),_(i),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var r=n.arg;_(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=i),y}}}function w(e,t,i,n){var r=t&&t.prototype instanceof E?t:E,o=Object.create(r.prototype),s=new M(n||[]);return o._invoke=function(e,t,i){var n=h;return function(r,o){if(n===p)throw new Error("Generator is already running");if(n===d){if("throw"===r)throw o;return x()}for(i.method=r,i.arg=o;;){var s=i.delegate;if(s){var a=T(s,i);if(a){if(a===y)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===h)throw n=d,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=p;var l=S(e,t,i);if("normal"===l.type){if(n=i.done?d:f,l.arg===y)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n=d,i.method="throw",i.arg=l.arg)}}}(e,i,s),o}function S(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}function E(){}function k(){}function O(){}function P(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function A(e){function i(t,n,o,s){var a=S(e[t],e,n);if("throw"!==a.type){var l=a.arg,c=l.value;return c&&"object"==typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then(function(e){i("next",e,o,s)},function(e){i("throw",e,o,s)}):Promise.resolve(c).then(function(e){l.value=e,o(l)},s)}s(a.arg)}var n;"object"==typeof t.process&&t.process.domain&&(i=t.process.domain.bind(i)),this._invoke=function(e,t){function r(){return new Promise(function(n,r){i(e,t,n,r)})}return n=n?n.then(r,r):r()}}function T(e,t){var n=e.iterator[t.method];if(n===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=i,T(e,t),"throw"===t.method))return y;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var r=S(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,y;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=i),t.delegate=null,y):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,y)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=i,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:i,done:!0}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,i(28))},144:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}i.r(t);var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.views=[],this.timer=-1,this.debounceTime=t}var t,i,r;return t=e,r=[{key:"start",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;e.instance||(e.instance=new e(i)),window.NSFW.isResizeManagerStarted=!0,window.addEventListener("resize",t?e.debounceResize:e.resize),e.resize()}},{key:"bind",value:function(t,i){e.instance.views.push({id:t,fn:i})}},{key:"unbind",value:function(t){for(var i=e.instance,n=0,r=i.views.length;n<r;n++)if(i.views[n].id===t){i.views.splice(n,1);break}}},{key:"debounceResize",value:function(){window.clearTimeout(e.instance.timer),e.instance.timer=window.setTimeout(e.resize,e.instance.debounceTime)}},{key:"resize",value:function(){var t=e.instance.views;NSFW.w=document.documentElement.clientWidth,NSFW.h=document.documentElement.clientHeight;for(var i=0,n=t.length;i<n;i++)t[i].fn(NSFW.w,NSFW.h)}}],(i=null)&&n(t.prototype,i),r&&n(t,r),e}();function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,n=[{key:"start",value:function(e){window.NSFW={},window.NSFW.PUBLIC_PATH="/app/themes/mobilite-montreal",window.NSFW.PUBLIC_PATH_JS="/app/themes/mobilite-montreal/js",window.NSFW.PUBLIC_PATH_CSS="/app/themes/mobilite-montreal/css",document.body?e():document.addEventListener("DOMContentLoaded",e)}}],(i=null)&&o(t.prototype,i),n&&o(t,n),e}().start;function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.update=this.update.bind(this),this.binders=[],this.raf=null,this.now=Date.now(),this.time=this.now,this.deltaTime=0,window.NSFW.RafDebug=e.debug}var t,i,n;return t=e,n=[{key:"start",value:function(){e.INSTANCE||(e.INSTANCE=new e),window.NSFW.isRafManagerStarted=!0,e.INSTANCE.update()}},{key:"stop",value:function(){window.cancelAnimationFrame(e.INSTANCE.raf),window.NSFW.isRafManagerStarted=!1}},{key:"bind",value:function(t,i){var n=e.INSTANCE;if("string"==typeof t)if("function"==typeof i){for(var r=0,o=n.binders.length;r<o;r++){if(n.binders[r].id===t)return void console.warn("RafManager :: Bind :: ID already used !",t)}e.INSTANCE.binders.push({id:t,fn:i})}else console.error("RafManager :: Bind :: Invalid Function",i);else console.error("RafManager :: Bind :: Invalid ID",t)}},{key:"unbind",value:function(t){for(var i=e.INSTANCE,n=0,r=i.binders.length;n<r;n++)if(i.binders[n].id===t){i.binders.splice(n,1);break}}},{key:"debug",value:function(){console.table(e.INSTANCE.binders)}}],(i=[{key:"update",value:function(){this.now=Date.now(),this.deltaTime=this.now-this.time,this.time=this.now;for(var e=0,t=this.binders.length;e<t;e++)this.binders[e].fn(this.deltaTime);this.raf=window.requestAnimationFrame(this.update)}}])&&a(t.prototype,i),n&&a(t,n),e}();function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.update=this.update.bind(this),this.views={},this.watchers={}}var t,i,n;return t=e,n=[{key:"start",value:function(){e.instance||(e.instance=new e)}},{key:"bind",value:function(t,i){var n=e.instance,r=n.watchers;if(n.views[t]=i,i){var o=i.options.root,s=String(i.options.rootMargin),a=i.options.threshold;r[t]=new IntersectionObserver(n.update,{root:o,rootMargin:s,threshold:a}),r[t].observe(i.view)}}},{key:"unbind",value:function(t,i){var n=e.instance,r=n.watchers[t];r&&(delete n.views[t],i&&r.unobserve(i.view))}}],(i=[{key:"update",value:function(e){for(var t,i=0,n=e.length;i<n;i++)(t=this.views[e[i].target.getAttribute("data-intersection-id")])&&t.update(e[i])}}])&&c(t.prototype,i),n&&c(t,n),e}();function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e){return null!=e})}(t);return n.length<1?{}:1===n.length?t[0]:n.reduce(function(e,t){return Object.keys(t).forEach(function(i){"object"===h(e[i])&&"object"===h(t[i])&&void 0===t[i].length?e[i]=f(e[i],t[i]):e[i]=t[i]}),e},{})}var p={Router:{VIEW_ADD:"@navigator / VIEW_ADD",VIEW_ADDED:"@navigator / VIEW_ADDED",VIEW_REMOVE:"@navigator / VIEW_REMOVE",VIEW_REMOVED:"@navigator / VIEW_REMOVED",VIEW_ENTER:"@navigator / VIEW_ENTER",VIEW_ENTERED:"@navigator / VIEW_ENTERED",VIEW_LEAVE:"@navigator / VIEW_LEAVE",VIEW_LEFT:"@navigator / VIEW_LEFT",VIEW_LOAD:"@navigator / VIEW_LOAD",VIEW_LOADING:"@navigator / VIEW_LOADING",VIEW_LOADED:"@navigator / VIEW_LOADED"},Sound:{ADD:"@sound / ADD",MUTE:"@sound / MUTE",UNMUTE:"@sound / UNMUTE",TOGGLE_MUTE:"@sound / TOGGLE_MUTE",PLAY:"@sound / PLAY",STOP:"@sound / STOP",CROSSFADE:"@sound / CROSSFADE"},GoogleMap:{CLOSE_ALL_INFOBOX:"@infobox / CLOSE"},VimeoPlayer:{LOADED:"@vimeo / LOADED",PLAY:"@vimeo / PLAY",PAUSE:"@vimeo / PAUSE",STOP:"@vimeo / STOP",END:"@vimeo / END",MUTE:"@vimeo / MUTE",TRACKING:"@vimeo / TRACKING"},YoutubePlayer:{LOADED:"@youtube / LOADED",PLAY:"@youtube / PLAY",PAUSE:"@youtube / PAUSE",STOP:"@youtube / STOP",END:"@youtube / END",MUTE:"@youtube / MUTE",TRACKING:"@youtube / TRACKING"}};function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,n=[{key:"emit",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.eventsList[t];if(n)for(var r=0,o=n.length;r<o;r++)n[r].fn(i);else console.warn("EventsManager :: Emit :: Currently no listeners for this event : ",t)}},{key:"on",value:function(t,i){t&&""!==t?e.debug&&console.log("%cEventsManager :: ON :: ".concat(t),"color:#BBB;"):console.warn("EventsManager :: EMPTY EVENT ::",t),e.eventsList[t]||(e.eventsList[t]=[]),e.eventsList[t].push({fn:i})}},{key:"once",value:function(t,i){var n=function n(r){e.off(t,n),i(r)};n._=i,e.on(t,n)}},{key:"off",value:function(t,i){var n=e.eventsList[t];if(n)if(i){e.debug&&console.log("%cEventsManager :: OFF :: ".concat(t),"color:#BBB;");for(var r=[],o=0,s=n.length;o<s;o++){var a=n[o];a.fn!==i&&a.fn._!==i&&r.push(a)}r.length>0?e.eventsList[t]=r:delete e.eventsList[t]}else console.warn("EventsManager :: Off :: Callback is undefined",t);else console.warn("EventsManager :: Off :: Currently no listeners for this event : ",t)}},{key:"verbose",value:function(t){e.debug=t}}],(i=null)&&d(t.prototype,i),n&&d(t,n),e}();y.eventsList={},y.debug=!1;var v=y;function g(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scrollWrapper=t.wrapper,NSFW.scrollBar=this,NSFW.currentScrollTop=0,NSFW.currentScrollDirection=null,this.currentScrollTop=0,this.currentSmoothScrollTop=0,this.easing=(1-t.speed).toFixed(1),this.isSmoothScrollFriendly=NSFW.isDesktop&&!NSFW.isIE&&!NSFW.isSafari,this.lastScrollTop=0,this.views=[],this.offset={x:0,y:0},this.scroll=this.scroll.bind(this),this.resize=this.resize.bind(this),this.update=this.update.bind(this),this.pageChangedIE=this.pageChangedIE.bind(this),this.pageChanged=this.pageChanged.bind(this),this.resetPagePosition=this.resetPagePosition.bind(this),this.mutationCallback=this.mutationCallback.bind(this),this.scrollWrapper||console.error("SmoothScrollManager :: #wrap element needed.")}var t,i,n;return t=e,n=[{key:"start",value:function(t){var i=f({wrapper:document.querySelector("#wrap"),speed:.9},t);e.instance=new e(i),e.init(i)}},{key:"init",value:function(t){NSFW.isRafManagerStarted||console.error("SmoothScrollManager :: You need to have the RafManager started before starting SmoothScrollManager"),NSFW.isResizeManagerStarted||console.error("SmoothScrollManager :: You need to have the ResizeManager started before starting SmoothScrollManager");var i=e.instance;window.addEventListener("scroll",i.scroll),r.bind("smooth-scroll-resize",i.resize),NSFW.isIE?v.on(p.Router.VIEW_ENTERED,i.pageChangedIE):v.on(p.Router.VIEW_ENTERED,i.pageChanged),i.isSmoothScrollFriendly&&i.initSmoothScroll()}},{key:"lock",value:function(){document.body.classList.add("locked")}},{key:"unlock",value:function(){document.body.classList.remove("locked")}},{key:"bind",value:function(t,i){e.instance.views.push({id:t,fn:i})}},{key:"unbind",value:function(t){for(var i=e.instance,n=0;n<i.views.length;n++)if(i.views[n].id===t){i.views.splice(n,1);break}}},{key:"debug",value:function(){console.table(e.instance.views)}}],(i=[{key:"initSmoothScroll",value:function(){document.body.classList.add("smooth-scroll"),this.handleScrollOnRefresh(),this.createDomSmoothScroll(),this.mutationObserver(),l.bind("smooth-scroll-raf",this.update),this.resize(),window.location.hash&&this.manageAnchors()}},{key:"manageAnchors",value:function(){var e=window.location.hash.substring(1);document.querySelector("#".concat(e))&&TweenMax.delayedCall(1,function(){NSFW.isIE||window.dispatchEvent(new Event("scroll"))})}},{key:"createDomSmoothScroll",value:function(){var e=this,t=g(this.scrollWrapper.childNodes),i=document.createElement("div");i.innerHTML='<div class="scroll-wrapper"><div class="scroll-container"></div></div>';var n=i.querySelector(".scroll-container");g(i.childNodes).forEach(function(t){return e.scrollWrapper.appendChild(t)}),t.forEach(function(e){return n.appendChild(e)}),this.heightContainer=document.createElement("div"),this.heightContainer.classList.add("js-height-scroll-container"),this.scrollWrapper.appendChild(this.heightContainer),this.scrollContainer=this.scrollWrapper.querySelector(".scroll-wrapper"),this.scrollContent=this.scrollContainer.firstElementChild}},{key:"mutationObserver",value:function(){this.observer=new MutationObserver(this.mutationCallback),this.observer.observe(this.scrollContent,{attributes:!0,attributeFilter:["style"]})}},{key:"mutationCallback",value:function(e,t){var i=!0,n=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){"attributes"==o.value.type&&this.resize()}}catch(e){n=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(n)throw r}}}},{key:"scroll",value:function(e){this.currentScrollTop=window.pageYOffset||document.documentElement.scrollTop||window.scrollY,this.currentScrollTop=this.currentScrollTop?this.currentScrollTop:0,this.currentScrollTop>this.lastScrollTop?NSFW.currentScrollDirection="down":NSFW.currentScrollDirection="up",this.lastScrollTop=this.currentScrollTop<=0?0:this.currentScrollTop,this.isSmoothScrollFriendly||this.updateCurrentScrollTopValues(this.currentScrollTop);for(var t=0;t<this.views.length;t++)this.views[t].fn(e)}},{key:"update",value:function(){this.currentSmoothScrollTop+=(this.currentScrollTop-this.currentSmoothScrollTop)*this.easing,this.scrollContent.style.transform="translate3d(0, -".concat(this.currentSmoothScrollTop.toFixed(),"px, 0)"),this.updateCurrentScrollTopValues(this.currentSmoothScrollTop)}},{key:"updateCurrentScrollTopValues",value:function(e){NSFW.currentScrollTop=parseInt(e.toFixed()),this.offset.y=NSFW.currentScrollTop}},{key:"setPosition",value:function(e,t){window.scrollTo(e,t)}},{key:"scrollTo",value:function(e,t,i,n){window.scrollTo(e,t)}},{key:"pageChanged",value:function(){this.scrollContent=this.scrollContainer.firstElementChild,this.resetPagePosition(),this.resize()}},{key:"pageChangedIE",value:function(){this.setPosition(0,0)}},{key:"resetPagePosition",value:function(){this.currentSmoothScrollTop=this.currentScrollTop=0,this.scrollContent.style.transform="translate3d(0, 0, 0)",this.setPosition(0,0)}},{key:"handleScrollOnRefresh",value:function(){history.scrollRestoration="manual"}},{key:"resize",value:function(){this.scrollContent&&this.scrollContent.offsetHeight>0&&this.heightContainer.offsetHeight!=this.scrollContent.offsetHeight&&(this.pageHeight=this.scrollContent.offsetHeight,this.heightContainer&&(this.heightContainer.style.height="".concat(this.pageHeight,"px")))}},{key:"dispose",value:function(){l.unbind("smooth-scroll-raf"),v.off(p.Router.VIEW_ENTERED,this.pageChanged),NSFW.isIE&&v.off(p.Router.VIEW_ENTERED,this.pageChangedIE),this.scroll=this.resize=this.update=this.pageChanged=this.resetPagePosition=null,this.scrollWrapper=this.scrollContainer=this.scrollContent=null,window.removeEventListener("scroll",this.scroll),r.unbind("smooth-scroll-resize")}}])&&m(t.prototype,i),n&&m(t,n),e}();function w(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var S=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=f({verbose:!0},t);this.canvas=document.createElement("canvas"),this.canvas.width=1,this.canvas.height=1,document.body.appendChild(this.canvas);var n=this.canvas.getContext("webgl",{stencil:!0});n||(n=this.canvas.getContext("experimental-webgl",{stencil:!0}));var r=!!n;this.gl=n,this.report={contextName:r,glVersion:n.getParameter(n.VERSION),shadingLanguageVersion:n.getParameter(n.SHADING_LANGUAGE_VERSION),vendor:n.getParameter(n.VENDOR),renderer:n.getParameter(n.RENDERER),unMaskedVendor:this.getUnmaskedInfo(n).vendor,unMaskedRenderer:this.getUnmaskedInfo(n).renderer,antialias:n.getContextAttributes().antialias?"Available":"Not available",angle:this.getAngle(n),majorPerformanceCaveat:this.getMajorPerformanceCaveat(r),maxColorBuffers:this.getMaxColorBuffers(n),redBits:n.getParameter(n.RED_BITS),greenBits:n.getParameter(n.GREEN_BITS),blueBits:n.getParameter(n.BLUE_BITS),alphaBits:n.getParameter(n.ALPHA_BITS),depthBits:n.getParameter(n.DEPTH_BITS),stencilBits:n.getParameter(n.STENCIL_BITS),maxRenderBufferSize:n.getParameter(n.MAX_RENDERBUFFER_SIZE),maxCombinedTextureImageUnits:n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS),maxCubeMapTextureSize:n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),maxFragmentUniformVectors:n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),maxTextureImageUnits:n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),maxTextureSize:n.getParameter(n.MAX_TEXTURE_SIZE),maxVaryingVectors:n.getParameter(n.MAX_VARYING_VECTORS),maxVertexAttributes:n.getParameter(n.MAX_VERTEX_ATTRIBS),maxVertexTextureImageUnits:n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxVertexUniformVectors:n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),aliasedLineWidthRange:n.getParameter(n.ALIASED_LINE_WIDTH_RANGE),aliasedPointSizeRange:n.getParameter(n.ALIASED_POINT_SIZE_RANGE),maxViewportDimensions:n.getParameter(n.MAX_VIEWPORT_DIMS),maxAnisotropy:this.getMaxAnisotropy(),vertexShaderBestPrecision:this.getBestFloatPrecision(n.VERTEX_SHADER),fragmentShaderBestPrecision:this.getBestFloatPrecision(n.FRAGMENT_SHADER),fragmentShaderFloatIntPrecision:this.getFloatIntPrecision(n),extensions:n.getSupportedExtensions(),draftExtensionsInstructions:this.getDraftExtensionsInstructions()},this.report.platform=navigator.platform,this.report.userAgent=navigator.userAgent,this.report.webglVersion=1,this.canvas.parentNode.removeChild(this.canvas),this.canvas=null;var o=!0;this.report.aliasedPointSizeRange[1]>300||(o=!1),NSFW.goodGPU=o,i.verbose&&this.logReport()}var t,i,n;return t=e,(i=[{key:"logReport",value:function(){console.log("%cWebGL report","background-color:#888; padding:0px 10px; color:#fff;"),console.log(this.report),console.log("%cGPU status: ".concat(NSFW.goodGPU?"good":"not good"),"color:#888;")}},{key:"describeRange",value:function(e){return"["+e[0]+", "+e[1]+"]"}},{key:"getMaxAnisotropy",value:function(){var e=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic");if(e){var t=this.gl.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT);return 0===t&&(t=2),t}return"n/a"}},{key:"formatPower",value:function(e,t){return t?""+Math.pow(2,e):"2<sup>"+e+"</sup>"}},{key:"getPrecisionDescription",value:function(e,t){var i=t?" bit mantissa":"";return"[-"+this.formatPower(e.rangeMin,t)+", "+this.formatPower(e.rangeMax,t)+"] ("+e.precision+i+")"}},{key:"getBestFloatPrecision",value:function(e){var t=this.gl.getShaderPrecisionFormat(e,this.gl.HIGH_FLOAT),i=this.gl.getShaderPrecisionFormat(e,this.gl.MEDIUM_FLOAT),n=this.gl.getShaderPrecisionFormat(e,this.gl.LOW_FLOAT),r=t;return 0===t.precision&&(r=i),"High: "+this.getPrecisionDescription(t,!0)+" | Medium: "+this.getPrecisionDescription(i,!0)+" | Low: "+this.getPrecisionDescription(n,!0)+'">'+this.getPrecisionDescription(r,!1)}},{key:"getFloatIntPrecision",value:function(e){var t=this.gl.getShaderPrecisionFormat(this.gl.FRAGMENT_SHADER,this.gl.HIGH_FLOAT),i=0!==t.precision?"highp/":"mediump/";return i+=0!==(t=this.gl.getShaderPrecisionFormat(this.gl.FRAGMENT_SHADER,this.gl.HIGH_INT)).rangeMax?"highp":"lowp"}},{key:"isPowerOfTwo",value:function(e){return 0!==e&&0==(e&e-1)}},{key:"getAngle",value:function(e){var t=this.describeRange(this.gl.getParameter(this.gl.ALIASED_LINE_WIDTH_RANGE));return("Win32"===navigator.platform||"Win64"===navigator.platform)&&"Internet Explorer"!==this.gl.getParameter(this.gl.RENDERER)&&"Microsoft Edge"!==this.gl.getParameter(this.gl.RENDERER)&&t===this.describeRange([1,1])?this.isPowerOfTwo(this.gl.getParameter(this.gl.MAX_VERTEX_UNIFORM_VECTORS))&&this.isPowerOfTwo(this.gl.getParameter(this.gl.MAX_FRAGMENT_UNIFORM_VECTORS))?"Yes, D3D11":"Yes, D3D9":"No"}},{key:"getMajorPerformanceCaveat",value:function(e){return this.canvas.parentNode||document.body.append(this.canavas),this.canvas.getContext(e,{failIfMajorPerformanceCaveat:!0})?void 0===this.gl.getContextAttributes().failIfMajorPerformanceCaveat?"Not implemented":"No":"Yes"}},{key:"getDraftExtensionsInstructions",value:function(){return-1!==navigator.userAgent.indexOf("Chrome")?'To see draft extensions in Chrome, browse to about:flags, enable the "Enable WebGL Draft Extensions" option, and relaunch.':-1!==navigator.userAgent.indexOf("Firefox")?"To see draft extensions in Firefox, browse to about:config and set web.gl.enable-draft-extensions to true.":""}},{key:"getMaxColorBuffers",value:function(e){var t=1,i=this.gl.getExtension("WEBGL_draw_buffers");return null!=i&&(t=this.gl.getParameter(i.MAX_DRAW_BUFFERS_WEBGL)),t}},{key:"getUnmaskedInfo",value:function(e){var t={renderer:"",vendor:""},i=this.gl.getExtension("WEBGL_debug_renderer_info");return null!=i&&(t.renderer=this.gl.getParameter(i.UNMASKED_RENDERER_WEBGL),t.vendor=this.gl.getParameter(i.UNMASKED_VENDOR_WEBGL)),t}},{key:"showNull",value:function(e){return null===e?"n/a":e}}])&&w(t.prototype,i),n&&w(t,n),e}();function E(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var k=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=f({limit:10,workerPath:"js/worker.js",verbose:!0,callback:null},t);if(NSFW.goodCPU=!1,this.time=1e4,!window.Worker||void 0===window.Worker)return console.warn("CPUTest: Web workers are not available."),void(i.callback&&i.callback());this.callback=i.callback,this.verbose=i.verbose,this.limit=i.limit,this.onMessage=this.onMessage.bind(this),this.onError=this.onError.bind(this),this.worker=new Worker(i.workerPath),this.worker.addEventListener("message",this.onMessage),this.worker.addEventListener("error",this.onError)}var t,i,n;return t=e,(i=[{key:"run",value:function(){this.worker&&this.worker.postMessage({id:Date.now(),message:{fn:"calculate"}})}},{key:"onError",value:function(e){console.error("CPUTest :: Error:",e),this.callback&&this.callback()}},{key:"onMessage",value:function(e){e&&(this.time=e.data.message.time),NSFW.goodCPU=this.time<this.limit,this.verbose&&this.logReport(),this.callback&&this.callback(this.time),this.dispose()}},{key:"logReport",value:function(){console.log("%cCPU status: ".concat(NSFW.goodCPU?"good":"not good"," (").concat(this.time,"ms)"),"color:#888")}},{key:"dispose",value:function(){this.worker.removeEventListener("message",this.onMessage),this.worker.removeEventListener("error",this.onError),this.worker.terminate(),this.worker=null,this.callback=null,this.onMessage=null,this.onError=null}}])&&E(t.prototype,i),n&&E(t,n),e}();function O(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e,t,i){return t&&O(e.prototype,t),i&&O(e,i),e}var A=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.options=f({verbose:!0,cpu:!1,gpu:!1,callback:null},t);var i=new MobileDetect(window.navigator.userAgent);NSFW.isMobile=null!==i.phone(),NSFW.isTablet=null!==i.tablet(),NSFW.isDesktop=!NSFW.isTablet&&!NSFW.isMobile,this.device=NSFW.isMobile?"mobile":NSFW.isTablet?"tablet":"desktop",document.body.classList.add(this.device);var n=window.navigator.userAgent.toLowerCase();NSFW.isIE=-1!==this.getInternetExplorerVersion(),NSFW.edgeVersion=this.getEdgeVersion(),NSFW.isEdge=n.indexOf("edge")>-1,NSFW.isOpera=n.indexOf("opr/index.html")>-1,NSFW.isChrome=!NSFW.isEdge&&!NSFW.isOpera&&(n.indexOf("chrome")>-1||n.indexOf("crios")>-1),NSFW.isSafari=!NSFW.isEdge&&!NSFW.isOpera&&!NSFW.isChrome&&n.indexOf("safari")>-1,NSFW.isFirefox=n.indexOf("firefox")>-1,this.browser=this.getBrowser(),document.body.classList.add(this.browser),NSFW.isWebGL=this.webGLAvailability(),NSFW.isWebGL&&this.options.gpu&&(this.gpu=new S({verbose:!1})),this.options.cpu&&(this.cpu=new k({verbose:!1,callback:this.report.bind(this)}),this.cpu.run()),!this.options.cpu&&this.options.verbose&&this.report()}return P(e,null,[{key:"check",value:function(t){e.instance||(e.instance=new e(t))}}]),P(e,[{key:"report",value:function(){this.options.verbose&&(console.groupCollapsed("Device Info"),console.log("Device: ",this.device),console.log("Browser: ",this.browser),console.log("WebGL: ",NSFW.isWebGL),this.gpu&&this.gpu.logReport(),this.cpu&&this.cpu.logReport(),console.groupEnd(),this.options.callback&&this.options.callback())}},{key:"getInternetExplorerVersion",value:function(){var e=-1,t=window.navigator.userAgent,i=window.navigator.appName;return"Microsoft Internet Explorer"===i?null!==new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1)):"Netscape"===i&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1)),e}},{key:"getEdgeVersion",value:function(){var e=1,t=window.navigator.userAgent;return null!==new RegExp("Edge/(.+)?").exec(t)&&(e=parseFloat(RegExp.$1)),e}},{key:"getBrowser",value:function(){var e={ie:NSFW.isIE,opera:NSFW.isOpera,chrome:NSFW.isChrome,safari:NSFW.isSafari,firefox:NSFW.isFirefox,edge:NSFW.isEdge};for(var t in e)if(Boolean(e[t]))return t;return"unknown"}},{key:"webGLAvailability",value:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}}]),e}();function T(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var C=[{file:"".concat("/app/themes/mobilite-montreal/js","../fetch.polyfill.html"),supported:"fetch"in window,name:"fetch"},{file:"".concat("/app/themes/mobilite-montreal/js","../promise.polyfill.html"),supported:"Promise"in window,name:"Promise"},{file:"".concat("/app/themes/mobilite-montreal/js","../intersectionObserver.polyfill.html"),supported:"IntersectionObserver"in window,name:"IntersectionObserver"},{file:"".concat("/app/themes/mobilite-montreal/js","../array.polyfill.html"),supported:Array.from,name:"Array"},{file:"".concat("/app/themes/mobilite-montreal/js","../string.polyfill.html"),supported:String.prototype.includes,name:"String"}],_=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,n=[{key:"add",value:function(e,t,i){C.push({file:t,supported:e,name:i})}},{key:"check",value:function(t){if("function"==typeof t){var i=C.reduce(function(e,t){var i=t.supported,n=t.file,r=t.name;return i||e.push({file:n,name:r}),e},[]);i.length<=0&&t();for(var n=0,r=function(){++n===i.length&&t()},o=0;o<i.length;o++)e.load(i[o].file,r,i[o].name)}else console.error("Polyfill :: you need to provide a callback function parameter to check()")}},{key:"load",value:function(t,i,n){var r=document.createElement("script");r.onload=function(){n&&(e["".concat(n)]=!0),i()},r.onerror=function(e){console.error(e)},r.src=t,document.body.appendChild(r)}}],(i=null)&&T(t.prototype,i),n&&T(t,n),e}();function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var x=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.players=[],this.isLoadedApi=!1;var i="https://www.youtube.com/iframe_api";if(!(document.querySelectorAll('[src="'+i+'"]').length>0))new Promise(function(e,t){var n=document.createElement("script");n.onload=e,n.onerror=t,n.src=i,document.getElementsByTagName("head")[0].appendChild(n)}).then(function(){window.onYouTubeIframeAPIReady=function(){t.isLoadedApi=!0}})}var t,i,n;return t=e,n=[{key:"start",value:function(){e.instance||(e.instance=new e)}},{key:"bind",value:function(t,i){var n=e.instance.players;if("string"==typeof t)if("object"===M(i)){for(var r=0;r<n.length;r++){if(t===n[r].id)return void console.warn("YoutubeManager :: Bind :: ID already used !",t)}n.push(i)}else console.error("YoutubeManager :: Bind :: object",i);else console.error("YoutubeManager :: Bind :: Invalid ID",t)}},{key:"pauseAllPlayersExceptOneIsPlaying",value:function(t){for(var i=e.instance.players,n=t,r=0;r<i.length;r++)i[r].id!=n?(i[r].stop(),i[r].hasPoster&&i[r].displayPoster(),i[r].isPlaying=!1):(i[r].isPlaying=!0,!i[r].checkPercentView&&i[r].hasTracking&&i[r].percentViewed())}},{key:"stopAllPlayers",value:function(){for(var t=e.instance.players,i=0;i<t.length;i++)t[i].stop(),t[i].hasPoster&&t[i].displayPoster(),t[i].playerInfos.isPlaying=!1}},{key:"unbind",value:function(t){var i=e.instance.players;if("string"==typeof t)for(var n=0;n<i.length;n++){t===i[n].id&&i.splice(n,1)}else console.error("YoutubeManager :: unBind :: Invalid ID",t)}}],(i=null)&&I(t.prototype,i),n&&I(t,n),e}();function R(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var N=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.openClose=this.openClose.bind(this),this.initSize=this.initSize.bind(this),this.$view=t,this.$arrow=this.$view.getElementsByTagName("svg")[0],this.$link=this.$view.querySelector(".faq-content__link"),this.$container=this.$view.querySelector(".faq-content__content"),this.$content=this.$container.children,this.$boxShadow=this.$view.querySelector(".faq-content__box-shadow"),this.isOpened=!1,this.maxHeight=0,this.linkHeight=this.$link.offsetHeight,this.index=100*Math.random(),this.addListeners(),this.initSize(),r.bind("accordeon"+this.index,this.initSize)}var t,i,n;return t=e,(i=[{key:"addListeners",value:function(){this.$link.addEventListener("click",this.openClose)}},{key:"initSize",value:function(){this.$boxShadow.style.minHeight=this.$link.offsetHeight+"px",this.linkHeight=this.$link.offsetHeight,this.isOpened&&this.openClose()}},{key:"openClose",value:function(){var e=this;if(this.maxHeight=0,0==this.isOpened){for(var t=0;t<this.$content.length;t++)this.maxHeight+=this.$content[t].offsetHeight;this.$link.style.pointerEvents="none",TweenMax.to(this.$arrow,.6,{css:{transform:"rotate(179.9deg)"}}),TweenMax.to(this.$container,.7,{css:{maxHeight:this.maxHeight+"px"},ease:Power4.easeOut,onComplete:function(){e.isOpened=!0,e.$link.style.pointerEvents="auto"}}),TweenMax.to(this.$boxShadow,.7,{css:{minHeight:this.maxHeight+this.linkHeight-2+"px"},ease:Power4.easeOut})}else TweenMax.to(this.$arrow,.3,{css:{transform:"rotate(0deg)"}}),TweenMax.to(this.$boxShadow,.3,{css:{minHeight:this.linkHeight+"px"}}),TweenMax.to(this.$container,.4,{css:{maxHeight:"0px"},onComplete:function(){e.isOpened=!1}})}}])&&R(t.prototype,i),n&&R(t,n),e}();function L(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var j=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scrolling=!1,this.isMenuMobileOpen=!1,this.isMenuDesktopOpen=!1,this.isMouseDown=!1,this.targetSubmenu="",this.isSubmenuMobileOpen=!1,this.header=document.querySelector(".nav-wrapper"),this.logo=this.header.querySelector(".logo"),this.mainMenu=this.header.querySelector(".menu-header-main-container"),this.menuWrapper=this.header.querySelector(".wrapper"),this.itemsWithSubmenus=this.header.querySelectorAll(".menu-item-has-children"),this.buttons=this.header.querySelectorAll(".menu-item-has-children button"),this.topNavItems=this.header.querySelectorAll(".top-level-menu-item"),this.$tables=document.getElementsByTagName("table"),this.containerTable=[],this.arrows=[],this.menuMobile=this.header.querySelector(".menu-mobile"),this.logoMobile=this.header.querySelector(".logo-mobile"),this.topNavItemsMobile=this.header.querySelectorAll(".nav-mobile .menu-item-has-children"),this.menuHeaderMobile=this.header.querySelector(".wrapper-inner-mobile .menu-header"),this.menuHeaderRightMobile=this.header.querySelector(".wrapper-inner-mobile .menu-header--right"),this.$accordeons=document.querySelectorAll(".accordeon-js"),this.accordeons=[],this.openMenu=this.openMenu.bind(this),this.closeMenu=this.closeMenu.bind(this),this.toggleMenuDesktop=this.toggleMenuDesktop.bind(this),this.closeButtons=this.closeButtons.bind(this),this.closeMenuOutFocus=this.closeMenuOutFocus.bind(this),this.mouseDown=this.mouseDown.bind(this),this.toggleMenuMobile=this.toggleMenuMobile.bind(this),this.animateOpenMenu=this.animateOpenMenu.bind(this),this.animateCloseMenu=this.animateCloseMenu.bind(this),this.closeAll=this.closeAll.bind(this),this.stopClick=this.stopClick.bind(this),this.onScroll=this.onScroll.bind(this),this.onResize=this.onResize.bind(this),NSFW.isDesktop)for(var t=0;t<this.topNavItems.length;t++)this.topNavItems[t].addEventListener("focusin",this.closeMenuOutFocus),this.topNavItems[t].addEventListener("mousedown",this.mouseDown);if(NSFW.isMobile||NSFW.isTablet)for(var i=0;i<this.itemsWithSubmenus.length;i++)this.itemsWithSubmenus[i].addEventListener("click",this.stopClick);for(var n=0;n<this.itemsWithSubmenus.length;n++){this.itemsWithSubmenus[n].querySelector(".sub-menu").setAttribute("aria-hidden",!0),this.itemsWithSubmenus[n].querySelector("button").addEventListener("click",this.toggleMenuDesktop),this.itemsWithSubmenus[n].setAttribute("aria-expanded","false"),this.itemsWithSubmenus[n].setAttribute("aria-haspopup","true"),NSFW.isDesktop&&(this.itemsWithSubmenus[n].addEventListener("mouseover",this.openMenu),this.itemsWithSubmenus[n].addEventListener("onfocus",this.openMenu),this.itemsWithSubmenus[n].addEventListener("mouseleave",this.closeMenu))}if(this.menuMobile.addEventListener("click",this.toggleMenuMobile),l.bind("header-scroll",this.onScroll),r.bind("resize-header",this.onResize),this.$accordeons)for(var o=0;o<this.$accordeons.length;o++)this.accordeons[o]=new N(this.$accordeons[o]);if(this.$tables){for(var s=0;s<this.$tables.length;s++){for(var a=0;a<this.$tables[s].getElementsByTagName("tr").length;a++){this.$tables[s].getElementsByTagName("tr")[a].removeAttribute("style");for(var c=0;c<this.$tables[s].getElementsByTagName("tr")[a].getElementsByTagName("td").length;c++)if(this.$tables[s].getElementsByTagName("tr")[a].getElementsByTagName("td")[c].removeAttribute("style"),this.$tables[s].getElementsByTagName("tr")[a].getElementsByTagName("td")[c].getElementsByTagName("p").length>1)for(var u=0;u<this.$tables[s].getElementsByTagName("tr")[a].getElementsByTagName("td")[c].getElementsByTagName("p").length;u++)this.svg=document.createElement("div"),this.svg.setAttribute("class","svg-class-js"),this.$tables[s].getElementsByTagName("tr")[a].getElementsByTagName("td")[c].getElementsByTagName("p")[u].prepend(this.svg)}this.$tables[s].removeAttribute("style")}for(var h=0;h<this.$tables.length;h++)this.containerTable[h]=document.createElement("div"),this.containerTable[h].setAttribute("class","table-container-js"),this.arrows[h]=document.createElement("div"),this.arrows[h].setAttribute("class","arrow-js-table"),this.$tables[h].parentNode.insertBefore(this.containerTable[h],this.$tables[h].nextSibling),this.containerTable[h].appendChild(this.$tables[h]),this.containerTable[h].appendChild(this.arrows[h]);this.onResize()}else this.onResize()}var t,i,n;return t=e,(i=[{key:"mouseDown",value:function(e){this.isMouseDown=!0}},{key:"openMenu",value:function(e){this.header.classList.add("menu-open");var t=e.target.closest(".menu-item-has-children"),i=t.querySelector(".sub-menu");t.setAttribute("aria-expanded",!0),i.setAttribute("aria-hidden",!1),this.isMenuDesktopOpen=!0}},{key:"closeMenu",value:function(e){this.header.classList.remove("menu-open");var t=e.target.closest(".menu-item-has-children"),i=t.querySelector(".sub-menu");t.setAttribute("aria-expanded",!1),i.setAttribute("aria-hidden",!0),this.isMenuDesktopOpen=!1}},{key:"toggleMenuDesktop",value:function(e){this.closeButtons();var t=e.target.parentElement,i=e.target.nextElementSibling;this.isMenuDesktopOpen?(t.setAttribute("aria-expanded",!1),i.setAttribute("aria-hidden",!0),this.header.classList.remove("menu-open")):(t.setAttribute("aria-expanded",!0),i.setAttribute("aria-hidden",!1),this.header.classList.add("menu-open")),this.isMenuDesktopOpen=!this.isMenuDesktopOpen}},{key:"closeButtons",value:function(){for(var e=0;e<this.buttons.length;e++)this.buttons[e].parentElement.setAttribute("aria-expanded",!1),this.buttons[e].nextElementSibling.setAttribute("aria-hidden",!0)}},{key:"closeMenuOutFocus",value:function(e){if(this.isMouseDown)this.isMouseDown=!1;else if(e.target.parentElement.classList.contains("top-level-menu-item")){this.header.classList.remove("menu-open");for(var t=this.header.querySelectorAll('li[aria-expanded="true"]'),i=this.mainMenu.querySelectorAll('.sub-menu[aria-hidden="false"]'),n=0;n<i.length;n++)i[n].setAttribute("aria-hidden",!0);for(var r=0;r<t.length;r++)t[r].setAttribute("aria-expanded",!1)}}},{key:"toggleMenuMobile",value:function(e){this.isMenuMobileOpen=!this.isMenuMobileOpen,e.target.classList.toggle("burger-open"),this.header.classList.toggle("menu-mobile-open"),document.body.classList.toggle("freeze"),e.target.setAttribute("aria-expanded",this.isMenuMobileOpen),this.isMenuMobileOpen?this.animateOpenMenu():(this.animateCloseMenu(),this.closeAll())}},{key:"animateOpenMenu",value:function(){var e=this;this.menuWrapper.style.display="flex",TweenMax.to(this.menuWrapper,.5,{y:"0%",onComplete:function(){e.menuHeaderMobile.style.opacity=1,e.menuHeaderRightMobile.style.opacity=1}})}},{key:"animateCloseMenu",value:function(){var e=this;this.menuHeaderMobile.style.opacity=0,this.menuHeaderRightMobile.style.opacity=0,TweenMax.to(this.menuWrapper,.5,{y:"-100%",onComplete:function(){e.menuWrapper.style.display="none"},delay:.15})}},{key:"closeAll",value:function(){for(var e=0;e<this.itemsWithSubmenus.length;e++)this.itemsWithSubmenus[e].setAttribute("aria-expanded","false"),this.itemsWithSubmenus[e].querySelector(".sub-menu").classList.remove("open");this.header.classList.remove("menu-open")}},{key:"stopClick",value:function(e){e.target.parentElement.classList.contains("menu-item-has-children")&&(e.preventDefault(),this.closeAll(),this.targetSubmenu!=e.target?(this.openMenu(e),this.targetSubmenu=e.target,this.isSubmenuMobileOpen=!0):(this.isSubmenuMobileOpen?this.closeMenu(e):this.openMenu(e),this.isSubmenuMobileOpen=!this.isSubmenuMobileOpen))}},{key:"onScroll",value:function(){window.pageYOffset>0&&!this.scrolling?this.header.classList.add("sticky-menu"):0===window.pageYOffset&&this.header.classList.remove("sticky-menu")}},{key:"onResize",value:function(){if(window.innerWidth<980?(this.logoMobile.setAttribute("aria-hidden",!1),this.logo.setAttribute("aria-hidden",!0),this.menuMobile.setAttribute("aria-hidden",!1)):(this.logoMobile.setAttribute("aria-hidden",!0),this.logo.setAttribute("aria-hidden",!1),this.menuMobile.setAttribute("aria-hidden",!0)),this.$tables)for(var e=0;e<this.$tables.length;e++)this.$tables[e].offsetWidth>this.$tables[e].parentNode.offsetWidth?(this.$tables[e].parentNode.style.overflowX="scroll",this.$tables[e].parentNode.style.left="50%",this.$tables[e].parentNode.style.transform="translateX(-50%)",this.$tables[e].parentNode.querySelector(".arrow-js-table").classList.add("animate")):(this.$tables[e].parentNode.style.overflowX="hidden",this.$tables[e].parentNode.style.left="50%",this.$tables[e].parentNode.style.transform="translateX(-50%)",this.$tables[e].parentNode.querySelector(".arrow-js-table").classList.remove("animate"))}}])&&L(t.prototype,i),n&&L(t,n),e}();function W(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var F=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.headerHeight=document.querySelector(".nav-wrapper").getBoundingClientRect().height,this.required=document.querySelectorAll(".gfield_required"),this.errorMessage=document.querySelector("#error"),this.validationError=document.querySelector(".validation_error"),this.confirmationMessage=document.querySelector(".gform_confirmation_message"),this.skipLinks=document.querySelectorAll(".skip");var t=document.documentElement.lang;this.message="fr-FR"==t?"champ requis":"required field",this.scrollTo=this.scrollTo.bind(this),this.scrollToSection=this.scrollToSection.bind(this);for(var i=0;i<this.skipLinks.length;i++)this.skipLinks[i].addEventListener("click",this.scrollToSection),this.skipLinks[i].time=2;for(var n=0;n<this.required.length;n++)this.required[n].innerHTML="(".concat(this.message,")");this.errorMessage?(this.errorMessage.setAttribute("tabindex",2),this.scrollTo(this.errorMessage)):this.confirmationMessage&&this.scrollTo(this.confirmationMessage)}var t,i,n;return t=e,(i=[{key:"scrollTo",value:function(e){var t=this,i=e.getBoundingClientRect(),n=window.pageYOffset+i.top-this.headerHeight,r={value:window.pageYOffset};TweenMax.to(r,.8,{value:n,onUpdate:function(){window.scrollTo(0,r.value)},onComplete:function(){t.errorMessage?t.errorMessage.focus():t.confirmationMessage.focus()}})}},{key:"scrollToSection",value:function(e){var t=document.querySelector("".concat(e.target.hash)),i=t.getBoundingClientRect(),n=window.pageYOffset+i.top-this.headerHeight,r={value:window.pageYOffset};TweenMax.to(r,2,{value:n,onUpdate:function(){window.scrollTo(0,r.value)},onComplete:function(){t.focus()}})}}])&&W(t.prototype,i),n&&W(t,n),e}();var D=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=document.querySelector(".tinyMCE");if(t){var i=t.querySelectorAll("a > img");if(i.length>0)for(var n=0;n<i.length;n++)i[n].parentElement.classList.add("no-decoration")}};function V(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function q(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var B=function(){function e(t,i,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onPlayerReady=this.onPlayerReady.bind(this),this.onPlayerStateChange=this.onPlayerStateChange.bind(this),this.onCreatePlayer=this.onCreatePlayer.bind(this),this.onClickPoster=this.onClickPoster.bind(this),this.addListeners=this.addListeners.bind(this),this.pause=this.pause.bind(this),this.play=this.play.bind(this),this.onEnd=this.onEnd.bind(this),this.clearPercentCheck=this.clearPercentCheck.bind(this),this.checkVolume=this.checkVolume.bind(this),this.clearCheckVolume=this.clearCheckVolume.bind(this),this.$playerContainer=t,this.$player=this.$playerContainer.querySelector(".youtube-video"),this.$poster=this.$playerContainer.querySelector(".youtube-poster");this.ytID=n,this.id=i,this.options=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){V(e,t,i[t])})}return e}({},{autoplay:!1,loop:!1,mute:!1,playsinline:1,poster:!1,tracking:!1,controls:2},o),this.hasControls=this.options.controls?1:0,this.hasAutoplay=this.options.autoplay?1:0,this.hasLoop=this.options.loop,this.muted=this.options.mute,this.hasPoster=1!==this.hasAutoplay&&this.options.poster,this.hasTracking=this.options.tracking,this.hasPlayInline=this.options.playsinline?1:0,this.done=!1,this.canCreatePlayer=!1,this.checkPercentView=null,this.checkSoundInterval=null,this.playerVolume=this.muted?0:1,this.playerInfos={id:this.id,isPlaying:!1,isLoaded:!1,isMuted:this.muted,tracking:0},this.$poster&&!this.hasPoster&&(this.$poster.style.display="none"),this.canCreatePlayer=setInterval(function(){x.instance.isLoadedApi&&r.onCreatePlayer()},200)}var t,i,n;return t=e,(i=[{key:"onCreatePlayer",value:function(){clearInterval(this.canCreatePlayer),this.player=new YT.Player(this.$player,{height:"390",width:"640",videoId:this.ytID,playerVars:{rel:0,controls:this.hasControls,disablekb:0,showinfo:0,modestbranding:0,autoplay:this.hasAutoplay,playsinline:this.hasPlayInline,cc_load_policy:0,iv_load_policy:3},events:{onReady:this.onPlayerReady,onStateChange:this.onPlayerStateChange}})}},{key:"onPlayerReady",value:function(e){x.bind(this.id,this),this.addListeners(),this.muted&&(e.target.mute(),this.player.setVolume(0)),this.playerInfos.isLoaded=!0,v.emit(p.YoutubePlayer.LOADED,this.playerInfos)}},{key:"onPlayerStateChange",value:function(e){e.data===YT.PlayerState.PAUSED&&(this.playerInfos.isPlaying=!1,this.hasTracking&&this.clearPercentCheck(),this.clearCheckVolume(),v.emit(p.YoutubePlayer.PAUSE,this.playerInfos)),e.data!=YT.PlayerState.PLAYING||this.done||(x.pauseAllPlayersExceptOneIsPlaying(this.id),v.emit(p.YoutubePlayer.PLAY,this.playerInfos),this.checkVolume()),e.data==YT.PlayerState.ENDED&&(this.done=!0,this.stop(),this.onEnd(),this.hasLoop?this.player.playVideo():this.hasPoster&&this.displayPoster())}},{key:"addListeners",value:function(){this.hasPoster&&this.$poster.addEventListener("click",this.onClickPoster)}},{key:"onClickPoster",value:function(){this.hidePoster(),this.play()}},{key:"hidePoster",value:function(){this.$poster.style.display="none"}},{key:"displayPoster",value:function(){this.$poster.style.display="block"}},{key:"play",value:function(){this.player&&(this.playerInfos.isPlaying=!0,this.player.playVideo())}},{key:"pause",value:function(){this.player.pauseVideo(),this.playerInfos.isPlaying=!1}},{key:"stop",value:function(){var e=this;this.playerInfos.isPlaying=!1,this.hasTracking&&this.clearPercentCheck(),this.player.seekTo(0),this.player.stopVideo(),!this.hasLoop&&this.hasPoster&&this.$poster&&this.displayPoster(),setTimeout(function(){e.done=!1},200),v.emit(p.YoutubePlayer.STOP,this.playerInfos)}},{key:"checkVolume",value:function(){var e=this;this.checkSoundInterval=setInterval(function(){e.player.isMuted()&&!e.playerInfos.isMuted?(e.playerInfos.isMuted=!0,v.emit(p.YoutubePlayer.MUTE,e.playerInfos)):!e.player.isMuted()&&e.playerInfos.isMuted&&(e.playerInfos.isMuted=!1,v.emit(p.YoutubePlayer.MUTE,e.playerInfos))},50)}},{key:"clearCheckVolume",value:function(){clearInterval(this.checkSoundInterval),this.checkSoundInterval=null}},{key:"toggleMute",value:function(){this.player.isMuted()?this.player.unMute():this.player.mute(),v.emit(p.YoutubePlayer.MUTE,this.playerInfos)}},{key:"percentViewed",value:function(){var e=this;this.checkPercentView||(this.checkPercentView=setInterval(function(){var t=e.player.getCurrentTime()/e.player.getDuration()*100;e.savePercentView(t)},1e3))}},{key:"savePercentView",value:function(e){100!==this.playerInfos.tracking&&(e>25&&e<50&&25!=this.playerInfos.tracking?(this.playerInfos.tracking=25,v.emit(p.YoutubePlayer.TRACKING,this.playerInfos)):e>50&&e<75&&50!=this.playerInfos.tracking?(this.playerInfos.tracking=50,v.emit(p.YoutubePlayer.TRACKING,this.playerInfos)):e>75&&e<100&&75!=this.playerInfos.tracking&&(this.playerInfos.tracking=75,v.emit(p.YoutubePlayer.TRACKING,this.playerInfos)))}},{key:"clearPercentCheck",value:function(){clearInterval(this.checkPercentView),this.checkPercentView=null}},{key:"onEnd",value:function(){this.playerInfos.tracking&&this.hasTracking&&100!=this.playerInfos.tracking&&(this.playerInfos.tracking=100,v.emit(p.YoutubePlayer.END,this.playerInfos))}},{key:"dispose",value:function(){e.unbind(this.id),this.$poster.removeEventListener("click",this.onClickPoster),this.player.destroy(),this.player=null,this.onPlayerReady=this.onPlayerStateChange=this.onCreatePlayer=this.onClickPoster=this.pause=this.play=this.addListeners=this.onEnd=this.checkVolume=this.clearPercentCheck=null,this.$playerContainer=this.$player=this.$poster=null,this.checkSoundInterval=null,this.ytID=this.id=null,this.options=this.hasAutoplay=this.hasLoop=this.muted=this.hasPoster=this.hasTracking=null,this.done=this.isPlaying=this.canCreatePlayer=this.checkPercentView=null}}])&&q(t.prototype,i),n&&q(t,n),e}();function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Y(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e,t,i){return($="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=G(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var X=function(e){function t(e,i,n){var r,o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=Y(this,G(t).call(this,e,i,n,s))).playBtn=e.querySelector(".play-btn"),o.playVideo=(r=o).playVideo.bind(r),o.stop=(r=o).stop.bind(r),o.onPlayerReady=(r=o).onPlayerReady.bind(r),o.onClickPoster=(r=o).onClickPoster.bind(r),o.playBtn.addEventListener("click",o.playVideo),o.$player||(o.$player=e.querySelector(".wp-block-embed__wrapper")),o}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,B),i=t,(n=[{key:"onCreatePlayer",value:function(){clearInterval(this.canCreatePlayer),this.player=new YT.Player(this.$player,{height:"390",width:"640",videoId:this.ytID,playerVars:{rel:0,controls:this.hasControls,disablekb:0,showinfo:0,modestbranding:0,autoplay:this.hasAutoplay,playsinline:this.hasPlayInline,cc_load_policy:0,iv_load_policy:3,html5:1,origin:window.location},events:{onReady:this.onPlayerReady,onStateChange:this.onPlayerStateChange}})}},{key:"onPlayerReady",value:function(e){$(G(t.prototype),"onPlayerReady",this).call(this),this.videoIframe=this.$playerContainer.querySelector("iframe"),this.videoIframe.setAttribute("tabindex",-1),this.videoIframe.setAttribute("aria-hidden",!0)}},{key:"playVideo",value:function(){this.hidePoster(),this.play(),this.playBtn.style.display="none",this.videoIframe.setAttribute("tabindex",0),this.videoIframe.setAttribute("aria-hidden",!1),this.videoIframe.focus()}},{key:"stop",value:function(){$(G(t.prototype),"stop",this).call(this),this.playBtn.style.display="block"}},{key:"onEnd",value:function(){$(G(t.prototype),"onEnd",this).call(this),this.videoIframe.setAttribute("tabindex",-1),this.videoIframe.setAttribute("aria-hidden",!0),this.videoIframe.blur(),this.playBtn.focus()}},{key:"onClickPoster",value:function(){this.playVideo()}}])&&z(i.prototype,n),r&&z(i,r),t}(),K={FINISH_HERO_ANIM:"finish-hero-anim",FINISH_ANIM_IMAGE:"finish-anim-image",FINISH_ANIM_REVEAL:"finish-anim-reveal"};function Z(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Q=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hero=document.querySelector(".hero"),this.alert=document.querySelector(".alert"),console.log(this.alert),this.heroImage=document.querySelector(".hero-image"),this.heroImageItem=this.heroImage.querySelector("img"),this.heroImageURL=this.heroImageItem.src,this.heroImageMobile=this.heroImage.dataset.mobile,this.closeAlert=this.closeAlert.bind(this),this.onResize=this.onResize.bind(this),this.animAlert=this.animAlert.bind(this),this.createVideo=this.createVideo.bind(this),this.setAlertCookie=this.setAlertCookie.bind(this),this.getAlertCookie=this.getAlertCookie.bind(this),this.setHeroHeight=this.setHeroHeight.bind(this),this.alert&&(console.log("heree"),this.btnAlert=this.alert.querySelector(".alert-close--btn"),this.btnAlert.addEventListener("click",this.closeAlert),this.closeAlertAnim=TweenMax.to(this.alert,.5,{y:"100%",ease:Power2.easeInOut,paused:!0,onComplete:function(){t.alert.classList.remove("show")}})),v.on(K.FINISH_HERO_ANIM,this.animAlert),v.on(K.FINISH_HERO_ANIM,this.createVideo),r.bind("hero-resize",this.onResize),this.onResize(),objectFitImages("img.object-fit-img")}var t,i,n;return t=e,(i=[{key:"createVideo",value:function(){var e=document.querySelectorAll(".video-wrapper");if(e.length>0){this.videosArray=[];for(var t=0;t<e.length;t++)this.videosArray[t]=new X(e[t],"video"+t,e[t].dataset.videoid,{poster:!0})}}},{key:"closeAlert",value:function(){this.closeAlertAnim.play(),this.setAlertCookie()}},{key:"setHeroHeight",value:function(){window.innerWidth<769?this.hero.style.height=window.innerHeight+80+"px":this.hero.style.height="calc(100vh + 80px)"}},{key:"onResize",value:function(){window.innerWidth<601&&""!=this.heroImageMobile?this.heroImageItem.src=this.heroImageMobile:this.heroImageItem.src=this.heroImageURL,this.setHeroHeight()}},{key:"animAlert",value:function(){!this.getAlertCookie("alert")&&this.alert&&TweenMax.to(this.alert,.5,{y:0,ease:Power2.easeInOut})}},{key:"setAlertCookie",value:function(){var e=new Date;e.setTime(e.getTime()+864e5);var t="; expires="+e.toUTCString();document.cookie="alert=closed"+t+"; path=/"}},{key:"getAlertCookie",value:function(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var r=i[n];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null}}])&&Z(t.prototype,i),n&&Z(t,n),e}();function J(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ee=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.SPACEBAR_KEY_CODE=[0,32],this.ENTER_KEY_CODE=13,this.DOWN_ARROW_KEY_CODE=40,this.UP_ARROW_KEY_CODE=38,this.ESCAPE_KEY_CODE=27,this.listItemIds=[],this.isListExpanded=!1,this.maxHeight=0,this.form=document.querySelector("form"),this.select=this.form.querySelector("select"),this.fakeSelect=document.querySelector(".fake-select"),this.listItems=this.fakeSelect.querySelectorAll(".option"),this.dropdownSelectedNode=this.fakeSelect.querySelector(".selected-option"),this.list=this.fakeSelect.querySelector(".options--list"),this.listContainer=this.fakeSelect.querySelector(".options--list-wrapper");for(var i=0;i<this.listItems.length;i++)this.listItemIds.push(this.listItems[i].id);this.submit=this.submit.bind(this),this.toggleListVisibility=this.toggleListVisibility.bind(this),this.selectValue=this.selectValue.bind(this),this.setSelectedListItem=this.setSelectedListItem.bind(this),this.closeList=this.closeList.bind(this),this.focusNextListItem=this.focusNextListItem.bind(this),this.closeSelect=this.closeSelect.bind(this),this.animCloseSelect=this.animCloseSelect.bind(this),this.animOpenSelect=this.animOpenSelect.bind(this),this.dropdownSelectedNode.addEventListener("click",this.toggleListVisibility),this.dropdownSelectedNode.addEventListener("keydown",this.toggleListVisibility),this.dropdownSelectedNode.addEventListener("keydown",this.toggleListVisibility),this.select.addEventListener("change",this.submit),document.addEventListener("click",this.closeSelect);for(var n=0;n<this.listItems.length;n++)this.listItems[n].addEventListener("click",this.selectValue),this.listItems[n].addEventListener("keydown",function(e){switch(e.keyCode){case t.ENTER_KEY_CODE:return t.setSelectedListItem(e),void t.animCloseSelect();case t.DOWN_ARROW_KEY_CODE:return void t.focusNextListItem(t.DOWN_ARROW_KEY_CODE);case t.UP_ARROW_KEY_CODE:return void t.focusNextListItem(t.UP_ARROW_KEY_CODE);case t.ESCAPE_KEY_CODE:return void t.animCloseSelect();default:return}}),this.maxHeight+=80;this.closeSelectTween=new TimelineMax({paused:!0}),this.closeSelectTween.fromTo(this.list,.35,{maxHeight:this.maxHeight,display:"block"},{maxHeight:0,display:"none"}),this.openSelectTween=new TimelineMax({paused:!0}),this.openSelectTween.fromTo(this.list,.35,{maxHeight:0,display:"none"},{maxHeight:this.maxHeight,display:"block",ease:Power2.easeInOut}),objectFitImages("img.object-fit-img")}var t,i,n;return t=e,(i=[{key:"closeSelect",value:function(e){e.target.closest(".fake-select")||this.animCloseSelect()}},{key:"setSelectedListItem",value:function(e){var t=document.createTextNode(e.target.innerText);this.dropdownSelectedNode.innerHTML="",this.dropdownSelectedNode.appendChild(t),this.submit(e.target.dataset.index)}},{key:"selectValue",value:function(e){this.setSelectedListItem(e),this.animCloseSelect()}},{key:"closeList",value:function(){this.fakeSelect.classList.remove("open"),this.listContainer.setAttribute("aria-expanded",!1)}},{key:"animCloseSelect",value:function(){this.closeSelectTween.play(),this.openSelectTween.reverse(),this.isListExpanded=!1,this.fakeSelect.classList.remove("open"),this.listContainer.setAttribute("aria-expanded",!1)}},{key:"animOpenSelect",value:function(){this.openSelectTween.play(),this.closeSelectTween.reverse(),this.fakeSelect.classList.add("open"),this.listContainer.setAttribute("aria-expanded",!0),this.isListExpanded=!0}},{key:"toggleListVisibility",value:function(e){console.log("togglevisibility");var t=this.SPACEBAR_KEY_CODE.includes(e.keyCode)||e.keyCode===this.ENTER_KEY_CODE;e.keyCode===this.ESCAPE_KEY_CODE&&this.animCloseSelect(),("click"===e.type||t)&&(this.isListExpanded?this.animCloseSelect():this.animOpenSelect()),e.keyCode===this.DOWN_ARROW_KEY_CODE&&this.focusNextListItem(this.DOWN_ARROW_KEY_CODE),e.keyCode===this.UP_ARROW_KEY_CODE&&this.focusNextListItem(this.UP_ARROW_KEY_CODE)}},{key:"focusNextListItem",value:function(e){var t=document.activeElement.id;if("selected-option"===t)document.querySelector("#".concat(this.listItemIds[0])).focus();else{var i=this.listItemIds.indexOf(t);if(e===this.DOWN_ARROW_KEY_CODE){if(i<this.listItemIds.length-1){var n=this.listItemIds[i+1];document.querySelector(".option[data-index=".concat(n,"]")).focus()}}else if(e===this.UP_ARROW_KEY_CODE){if(i>0){var r=this.listItemIds[i-1];document.querySelector(".option[data-index=".concat(r,"]")).focus()}}}}},{key:"submit",value:function(e){NSFW.isMobile||NSFW.isTablet||(this.select.selectedIndex=e),this.form.submit()}}])&&J(t.prototype,i),n&&J(t,n),e}();var te=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=document.querySelectorAll(".video-wrapper");if(t.length>0){this.videosArray=[];for(var i=0;i<t.length;i++){var n=t[i].querySelector("img")?{poster:!0}:{};this.videosArray[i]=new X(t[i],"video"+i,t[i].dataset.videoid,n)}}document.querySelector(".page-actualites").classList.add("current_page_parent")};function ie(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ne=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.anchors=document.querySelectorAll(".position"),this.headerHeight=document.querySelector(".nav-wrapper").getBoundingClientRect().height,this.mapWrapper=document.querySelector(".map-wrapper"),this.mapWrapperBox=this.mapWrapper.getBoundingClientRect(),this.titles=this.mapWrapper.querySelectorAll(".sector-title"),this.bottomLine=this.mapWrapperBox.top+this.mapWrapperBox.height/2,this.highlightMap=this.highlightMap.bind(this),this.highlightMapHover=this.highlightMapHover.bind(this),this.cleanMap=this.cleanMap.bind(this),this.cleanMapHover=this.cleanMapHover.bind(this),this.onScroll=this.onScroll.bind(this),this.mapChantier=document.querySelector(".map-chantier"),this.mapChantier){this.secteurs=this.mapChantier.querySelectorAll(".position"),this.secteursHover=this.mapChantier.querySelectorAll(".secteur-hover");for(var t=0;t<this.secteurs.length;t++)this.secteurs[t].addEventListener("focus",this.highlightMap),this.secteurs[t].addEventListener("blur",this.cleanMap),this.secteursHover[t].addEventListener("mouseover",this.highlightMapHover),this.secteursHover[t].addEventListener("mouseout",this.cleanMapHover);for(var i=0;i<this.secteursHover.length;i++);}NSFW.isMobile||NSFW.isTablet||l.bind("map-scroll",this.onScroll)}var t,i,n;return t=e,(i=[{key:"highlightMap",value:function(e){for(var t=e.target.getAttribute("data-secteur"),i=this.mapChantier.querySelectorAll(".secteur-".concat(t)),n=0;n<i.length;n++)i[n].style.fill="#d6de23",console.log(i[n])}},{key:"cleanMap",value:function(e){for(var t=e.target.getAttribute("data-secteur"),i=this.mapChantier.querySelectorAll(".secteur-".concat(t)),n=0;n<i.length;n++)i[n].style.fill="#00833D"}},{key:"highlightMapHover",value:function(e){var t=e.target.parentNode.getAttribute("data-secteur");this.mapChantier.querySelector(".title-"+t).classList.add("show")}},{key:"cleanMapHover",value:function(e){var t=e.target.parentNode.getAttribute("data-secteur");this.mapChantier.querySelector(".title-"+t).classList.remove("show")}},{key:"onScroll",value:function(){if(window.pageYOffset>this.mapWrapperBox.top&&window.pageYOffset<this.bottomLine)for(var e=0;e<this.titles.length;e++){var t=window.pageYOffset-this.mapWrapperBox.top;NSFW.isIE?this.titles[e].style.transform="translate(0,"+t+"px)":this.titles[e].transform=this.titles[e].style.webkitTransform="translateY(".concat(t,"px)")}}}])&&ie(t.prototype,i),n&&ie(t,n),e}();var re=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ovalGreen=document.querySelector("#oval-green"),this.ovalOuterGreen=document.querySelector("#outer-oval-green"),this.ovalYellow=document.querySelector("#oval-yellow"),this.ovalOuterYellow=document.querySelector("#outer-oval-yellow"),this.pathGreen=MorphSVGPlugin.pathDataToBezier("#path-green",{align:this.ovalGreen}),this.pathYellow=MorphSVGPlugin.pathDataToBezier("#path-yellow",{align:this.ovalYellow}).reverse(),this.drawPathGreen=document.querySelector("#draw-path-green"),this.drawPathYellow=document.querySelector("#draw-path-yellow"),this.maskGreen=document.querySelector("#mask-green path"),this.maskYellow=document.querySelector("#mask-yellow path")};var oe=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=document.querySelectorAll(".video-wrapper");if(this.featuredText=document.querySelector(".featured-text"),this.image=document.querySelector(".image"),this.featuredText&&!NSFW.isMobile&&(this.featuredTextBox=this.featuredText.getBoundingClientRect(),this.contentSinglePost=document.querySelector(".content--single-post"),this.contentSinglePost.style.marginTop=this.featuredTextBox.height/2+100+"px"),this.image&&this.featuredText&&!NSFW.isMobile&&(this.featuredText.style.bottom=-this.featuredTextBox.height/2-20+"px"),t.length>0){this.videosArray=[];for(var i=0;i<t.length;i++){var n=t[i].querySelector("img")?{poster:!0}:{};this.videosArray[i]=new X(t[i],"video"+i,t[i].dataset.videoid,n)}}document.querySelector(".page-actualites")&&document.querySelector(".page-actualites").classList.add("current_page_parent")};function se(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ae=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,(i=[{key:"startAnim",value:function(){lottie.loadAnimation({container:element,renderer:"svg",loop:!0,autoplay:!0,path:"../assets/animations/01_Mobilité_Montreal_Transport Collectif_01.json"})}}])&&se(t.prototype,i),n&&se(t,n),e}();var le=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),objectFitImages("img.object-fit-img-contain")};function ce(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ue=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,(i=[{key:"initComponent",value:function(){}}])&&ce(t.prototype,i),n&&ce(t,n),e}();function he(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function fe(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var pe=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&""!==t)if(i){this.id=t,this.view=i,this.options=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){he(e,t,i[t])})}return e}({},{root:null,intersectionRatio:0,rootMargin:"0px",threshold:0},n),this.options.intersectionRatio&&"number"==typeof this.options.intersectionRatio||(this.options.intersectionRatio=0),this.visibility=!1,this.visible=!1,this.view.setAttribute("data-intersection-id",t),u.bind(t,this)}else console.error("SmartView :: View is undefined");else console.error("SmartView :: Invalid ID")}var t,i,n;return t=e,(i=[{key:"update",value:function(e){this.visibility=e.intersectionRatio>this.options.intersectionRatio}},{key:"locate",value:function(){this.offsetTop=NSFW.currentScrollTop+this.view.getBoundingClientRect().top,this.offsetBottom=this.offsetTop+this.view.offsetHeight}},{key:"dispose",value:function(){u.unbind(this.id,this),this.view=null,this.visibility=!1}}])&&fe(t.prototype,i),n&&fe(t,n),e}();function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ve(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ge(e,t,i){return(ge="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=me(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var we=function(e){function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ve(this,me(t).call(this,e,i,n))}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,pe),i=t,(n=[{key:"update",value:function(e){ge(me(t.prototype),"update",this).call(this,e),this.visibility&&!this.visible?this.display():!this.visibility&&this.visible&&this.hide()}},{key:"display",value:function(){this.visible=!0}},{key:"hide",value:function(){this.visible=!1}}])&&ye(i.prototype,n),r&&ye(i,r),t}();function Se(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ee=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.view=i,this.id=t,this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseOverLink=this.onMouseOverLink.bind(this),this.onMouseOutLink=this.onMouseOutLink.bind(this),this.circle=this.view.querySelector(".circle"),this.link=this.view.querySelector("a"),this.flag=!1,NSFW.isMobile||NSFW.isTablet||(this.view.addEventListener("mouseenter",this.onMouseOver),this.view.addEventListener("mouseleave",this.onMouseOut),this.view.addEventListener("mousemove",this.onMouseMove),this.link&&(this.link.addEventListener("mouseover",this.onMouseOverLink),this.link.addEventListener("mouseout",this.onMouseOutLink)))}var t,i,n;return t=e,(i=[{key:"onMouseMove",value:function(e){var t=e.pageX-this.view.offsetLeft,i=e.pageY-this.view.offsetTop;TweenMax.to(this.circle,.3,{x:t,y:i})}},{key:"onMouseOver",value:function(){this.flag=!0,TweenMax.to(this.circle,.4,{scale:1})}},{key:"onMouseOut",value:function(){this.flag=!1,TweenMax.to(this.circle,.4,{scale:0})}},{key:"onMouseOverLink",value:function(e){TweenMax.to(this.circle,.4,{scale:3})}},{key:"onMouseOutLink",value:function(e){TweenMax.to(this.circle,.4,{scale:1})}}])&&Se(t.prototype,i),n&&Se(t,n),e}();var ke=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=document.querySelectorAll(".section--block-centered");if(t.length>0){this.blocksArray=[];for(var i=0;i<t.length;i++)this.blocksArray[i]=new Ee("block-centered"+i,t[i])}};function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ae(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Te(e,t,i){return(Te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ce(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Me=function(e){function t(e,i){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Ae(this,Ce(t).call(this,e,i))).arrayTL=[],r.illustration=r.view.dataset.illustration,r.checkIllustrations=(n=r).checkIllustrations.bind(n),r.setAnim=(n=r).setAnim.bind(n),r.checkIllustrations(),r}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(t,we),i=t,(n=[{key:"display",value:function(){Te(Ce(t.prototype),"display",this).call(this)}},{key:"checkIllustrations",value:function(){NSFW.isEdge||NSFW.isIE||this.setAnim()}},{key:"setAnim",value:function(){this.view.classList.contains("mm")||(console.log(this.illustration),this.anim=lottie.loadAnimation({container:this.view,renderer:"svg",loop:!0,autoplay:!0,path:"/app/themes/mobilite-montreal/assets/animations/".concat(this.illustration,".json")}))}}])&&Pe(i.prototype,n),r&&Pe(i,r),t}();var Ie=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=document.querySelectorAll(".js-svg-animated");if(t.length>0){this.svgArray=[];for(var i=0;i<t.length;i++)this.svgArray[i]=new Me("svg-animated"+i,t[i])}};function xe(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Re=function(){function e(t,i){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isSlider=!1,this.lang=document.documentElement.lang,this.id=t,this.view=i,this.sliderWrapper=this.view.querySelector(".news-container"),this.slides=this.sliderWrapper.querySelectorAll(".js-slide"),this.pagination=this.view.querySelector(".swiper-pagination"),this.onResize=this.onResize.bind(this),this.initSlider=this.initSlider.bind(this),this.destroySlider=this.destroySlider.bind(this),r.bind("slider-resize",this.onResize),window.addEventListener("load",function(){n.onResize()})}var t,i,n;return t=e,(i=[{key:"onResize",value:function(){window.innerWidth<980&&!this.isSlider||NSFW.isMobile?this.initSlider():window.innerWidth>979&&this.isSlider&&this.destroySlider()}},{key:"initSlider",value:function(){var e=this;this.view.classList.add("swiper-container"),this.sliderWrapper.classList.add("swiper-wrapper"),this.sliderWrapper.classList.remove("news-container","row","row--v-stretch");for(var t="fr-FR"==this.lang?"Aller à la diapositive":"Go to slide",i=0;i<this.slides.length;i++)this.slides[i].classList.add("swiper-slide");this.slider=new Swiper(".swiper-container",{a11y:{paginationBulletMessage:t+" {{index}}"},slidesPerView:1.8,spaceBetween:40,loop:!1,pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(e,t){return"<button "+(0==e?'aria-pressed="true"':'aria-pressed="false"')+' class="'+t+'"></button>'}},breakpoints:{320:{slidesPerView:1,spaceBetween:30},480:{slidesPerView:1.3},768:{slidesPerView:1.6,centeredSlides:!0}}}),this.slider.snapGrid=this.slider.slidesGrid.slice(0),this.isSlider=!0,window.innerWidth<=600?this.bulletsQuantity=this.slides.length:this.bulletsQuantity=Math.round(this.slides.length/2),this.slider.on("transitionEnd",function(){for(var t=e.slider.wrapperEl.style.transform,i=t.indexOf(","),n=t.substring(12,i),r=0;r<e.slider.snapGrid.length;r++)if(Math.abs(parseInt(n))==parseInt(e.slider.snapGrid[r])){for(var o=0;o<e.slider.pagination.bullets.length;o++)e.slider.pagination.bullets[o].classList.remove("swiper-pagination-bullet-active");return void e.slider.pagination.bullets[r].classList.add("swiper-pagination-bullet-active")}})}},{key:"destroySlider",value:function(){this.slider.destroy(!0,!0),this.view.classList.remove("swiper-container"),this.sliderWrapper.classList.remove("swiper-wrapper"),this.sliderWrapper.classList.add("news-container","row","row--v-stretch"),this.pagination.innerHTML="";for(var e=0;e<this.slides.length;e++)this.slides[e].style.opacity=1,this.slides[e].style.transform="none",this.slides[e].classList.remove("swiper-slide");this.isSlider=!1}}])&&xe(t.prototype,i),n&&xe(t,n),e}();var Ne=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=document.querySelectorAll(".js-slider");if(t.length>0){this.slidersArray=[];for(var i=0;i<t.length;i++)this.slidersArray[i]=new Re("slider"+i,t[i])}};function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function We(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fe(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function De(e,t,i){return(De="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ve(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Be=function(e){function t(e,i){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){je(e,t,i[t])})}return e}({},o,{intersectionRatio:.2,threshold:[.2,1]}),(r=Fe(this,Ve(t).call(this,e,i,o))).isAnimFinished=!1,r.isFirstTime=!0,r.arrayFirstDisplay=[],r.animFinished=(n=r).animFinished.bind(n),r.tl=new TimelineMax({paused:!0}),r.options.inverse){var s=[],a=r.view.querySelector("svg"),l=r.view.querySelector(".box-white"),c=r.view.querySelector("img");c?s.push(c):s.push(a,l),r.tl.to(s,.5,{x:-20,y:-20,onComplete:function(){TweenMax.delayedCall(1,function(){NSFW.isIE?"svg"==s[0].localName&&s[0].setAttribute("class",""):s[0].classList.remove("transitionStart")})}}),v.on(K.FINISH_ANIM_REVEAL,r.animFinished)}else r.tl.to(r.view,.5,{x:0,y:0,onComplete:function(){v.emit(K.FINISH_ANIM_IMAGE)}}),r.isAnimFinished=!0;return r}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(t,we),i=t,(n=[{key:"display",value:function(){De(Ve(t.prototype),"display",this).call(this),this.isFirstTime&&this.arrayFirstDisplay.push(this.id),this.isAnimFinished&&(this.isFirstTime=!1,this.tl.play())}},{key:"animFinished",value:function(){this.isAnimFinished=!0,this.arrayFirstDisplay.includes(this.id)&&this.display()}}])&&We(i.prototype,n),r&&We(i,r),t}();function He(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ze=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=document.querySelectorAll(".js-anim-image"),i=document.querySelectorAll(".js-anim-image-inverse");if(t.length>0){this.imagesArray=[];for(var n=0;n<t.length;n++)this.imagesArray[n]=new Be("image-anim"+n,t[n],{direction:t[n].dataset.direction})}if(i.length>0&&window.innerWidth>979){this.imagesInverseArray=[];for(var o=0;o<i.length;o++)this.imagesInverseArray[o]=new Be("image-anim-inverse"+o,i[o],{inverse:!0})}(i.length>0||t.length>0)&&(this.onResize=this.onResize.bind(this),r.bind("images-resize",this.onResize))}var t,i,n;return t=e,(i=[{key:"onResize",value:function(){for(var e=0;this.imagesArray&&e<this.imagesArray.length;e++)this.imagesArray[e].locate();for(var t=0;this.imagesInverseArray&&t<this.imagesInverseArray.length;t++)this.imagesInverseArray[t].locate()}}])&&He(t.prototype,i),n&&He(t,n),e}();function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ge(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ue(e,t,i){return(Ue="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xe(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ze=function(e){function t(e,i){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{intersectionRatio:.2,threshold:[.2,1]};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ge(this,Xe(t).call(this,e,i,r))).content=n.view.nextElementSibling.querySelector(".content"),n.parent=n.view.parentElement,n.tl=new TimelineMax({paused:!0}),n.parent.classList.contains("dir-right")?n.tl.set(n.view,{x:"-100%",opacity:1}):n.tl.set(n.view,{x:"100%",opacity:1}),n.tl.to(n.view,.5,{x:"0%"}),n.tl.to(n.content,.35,{opacity:1}),n}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(t,we),i=t,(n=[{key:"display",value:function(){Ue(Xe(t.prototype),"display",this).call(this),this.tl.play()}}])&&$e(i.prototype,n),r&&$e(i,r),t}();function Qe(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Je=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!NSFW.isMobile){var t=document.querySelectorAll(".js-bg-color");if(t.length>0){this.bgsArray=[];for(var i=0;i<t.length;i++)this.bgsArray[i]=new Ze("bg-anim"+i,t[i]);this.onResize=this.onResize.bind(this),r.bind("bgs-resize",this.onResize)}}}var t,i,n;return t=e,(i=[{key:"onResize",value:function(){for(var e=0;e<this.bgsArray.length;e++)this.bgsArray[e].locate()}}])&&Qe(t.prototype,i),n&&Qe(t,n),e}();function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function it(e,t){return!t||"object"!==et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nt(e,t,i){return(nt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=rt(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var st=function(e){function t(e,i){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=it(this,rt(t).call(this,e,i,r))).spanArray=[],n.contentArray=[],n.typeOfChilds="",n.view.classList.contains("chiffres-wrapper")){n.typeOfChilds="chiffres";for(var o=0;o<n.view.children.length;o++){var s=n.view.children[o].querySelector("span");n.spanArray.push(s);var a=n.view.children[o].querySelectorAll("p");n.contentArray[o]=a}n.display()}else n.view.classList.contains("map-wrapper")&&(n.typeOfChilds="map",n.childs=n.view.querySelectorAll(".position"));return n}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(t,we),i=t,(n=[{key:"display",value:function(){nt(rt(t.prototype),"display",this).call(this),"chiffres"==this.typeOfChilds?(TweenMax.staggerTo(this.spanArray,.6,{scale:1},.2),TweenMax.staggerTo(this.contentArray,.6,{opacity:1,delay:.6,onComplete:function(){v.emit(K.FINISH_ANIM_IMAGE)}},.2)):"map"==this.typeOfChilds&&TweenMax.staggerTo(this.childs,.6,{opacity:1},.2)}}])&&tt(i.prototype,n),r&&tt(i,r),t}();function at(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var lt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=document.querySelectorAll(".js-anim-childs");if(t.length>0){this.childsWrapperArray=[];for(var i=0;i<t.length;i++)this.childsWrapperArray[i]=new st("anim-childs"+i,t[i]);this.onResize=this.onResize.bind(this),r.bind("anim-childs-resize",this.onResize)}}var t,i,n;return t=e,(i=[{key:"onResize",value:function(){for(var e=0;e<this.childsWrapperArray.length;e++)this.childsWrapperArray[e].locate()}}])&&at(t.prototype,i),n&&at(t,n),e}();function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ht(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ft(e,t,i){return(ft="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pt(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yt=function(e){function t(e,i){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ht(this,pt(t).call(this,e,i,r))).tl=new TimelineMax({paused:!0}),n.tl.staggerTo(n.view.children,.6,{opacity:1,y:0,onComplete:function(){v.emit(K.FINISH_ANIM_REVEAL,{elem:this.target})}},.2),n}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(t,we),i=t,(n=[{key:"display",value:function(){ft(pt(t.prototype),"display",this).call(this),this.tl.play()}}])&&ut(i.prototype,n),r&&ut(i,r),t}();function vt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var gt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=document.querySelectorAll(".js-anim-news");if(t.length>0){this.newsWrapperArray=[];for(var i=0;i<t.length;i++)this.newsWrapperArray[i]=new yt("anim-news"+i,t[i]);this.onResize=this.onResize.bind(this),r.bind("anim-news-resize",this.onResize)}}var t,i,n;return t=e,(i=[{key:"onResize",value:function(){for(var e=0;e<this.newsWrapperArray.length;e++)this.newsWrapperArray[e].locate()}}])&&vt(t.prototype,i),n&&vt(t,n),e}();function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wt(e,t){return!t||"object"!==mt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function St(e,t,i){return(St="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Et(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ot=function(e){function t(e,i,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=wt(this,Et(t).call(this,e,i,n))).blockReveal=r.view.querySelector(".block-reveal"),r.image=r.view.querySelector(".hero-image"),r.imageItem=r.image.querySelector("img"),r.heroContentChildren=r.view.querySelectorAll(".hero-content .row > *"),r.scrolling=r.view.querySelectorAll(".js-rb-child:not(.hero-content)"),r.nav=document.querySelector(".menu-header"),r.tl=new TimelineMax({paused:!0}),r.tl.to(r.blockReveal,1,{scaleX:0,ease:Power2.easeInOut,onComplete:function(){r.imageItem.classList.add("zoom")}}),r.tl.to(r.nav,.5,{opacity:1,y:0,ease:Power1.easeOut}),r.tl.staggerTo(r.heroContentChildren,.8,{opacity:1,x:0,ease:Power2.easeInOut},.2,"=-0.5"),r.tl.to(r.scrolling,.5,{opacity:1,y:0,ease:Power2.easeInOut,onComplete:function(){v.emit(K.FINISH_HERO_ANIM)}},"=-0.6"),r}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(t,we),i=t,(n=[{key:"display",value:function(){St(Et(t.prototype),"display",this).call(this),this.tl.play()}}])&&bt(i.prototype,n),r&&bt(i,r),t}();function Pt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var At=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=document.querySelectorAll(".js-reveal-block");if(t.length>0){this.rbArray=[];for(var i=0;i<t.length;i++)this.rbArray[i]=new Ot("rb-anim"+i,t[i]);this.onResize=this.onResize.bind(this),r.bind("rb-resize",this.onResize)}}var t,i,n;return t=e,(i=[{key:"onResize",value:function(){for(var e=0;e<this.rbArray.length;e++)this.rbArray[e].locate()}}])&&Pt(t.prototype,i),n&&Pt(t,n),e}();function Tt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ct=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t||console.error("DisplayObject :: view is not valid."),this.click=this.click.bind(this),this.over=this.over.bind(this),this.out=this.out.bind(this),this.view=t,this.position={x:0,y:0,z:0},this.rotation={x:0,y:0,z:0},this.scale={x:1,y:1},this.alpha=1}var t,i,n;return t=e,(i=[{key:"render",value:function(){this.view.style.transform=this.view.style.webkitTransform="translate3d(".concat(this.position.x,"px,").concat(this.position.y,"px,").concat(this.position.z,"px) scale(").concat(this.scale.x,",").concat(this.scale.y,") rotateX(").concat(this.rotation.x,"deg) rotateY(").concat(this.rotation.y,"deg) rotateZ(").concat(this.rotation.z,"deg)"),this.view.style.opacity=this.alpha}},{key:"click",value:function(e){}},{key:"over",value:function(e){}},{key:"out",value:function(e){}},{key:"interactive",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?(this.view.addEventListener("click",this.click),this.view.addEventListener("mouseover",this.over),this.view.addEventListener("mouseout",this.out)):(this.view.removeEventListener("click",this.click),this.view.removeEventListener("mouseover",this.over),this.view.removeEventListener("mouseout",this.out))}},{key:"buttonMode",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.view.style.cursor=e?"pointer":null}},{key:"pivot",value:function(e){var t=e.x,i=void 0===t?0:t,n=e.y,r=void 0===n?0:n;this.view.style.transformOrigin="".concat(i,"% ").concat(r,"%")}},{key:"move",value:function(e){var t=e.x,i=void 0===t?0:t,n=e.y,r=void 0===n?0:n;this.view.style.left="".concat(i,"px"),this.view.style.top="".concat(r,"px")}},{key:"dispose",value:function(){this.interactive(!1),this.click=this.over=this.out=null}}])&&Tt(t.prototype,i),n&&Tt(t,n),e}();function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function It(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xt(e,t){return!t||"object"!==_t(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rt(e,t,i){return(Rt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Nt(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jt=function(e){function t(e,i){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=new Ct(i);return(r=xt(this,Nt(t).call(this,e,s.view,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){Mt(e,t,i[t])})}return e}({},{amplitude:200,smooth:.1,depth:1},o)))).displayObject=s,r.interpolation=0,l.bind(r.id,(n=r).render.bind(n)),r.locate(),r.computeRatio(),r}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(t,pe),i=t,(n=[{key:"parallax",value:function(){this.visibility&&this.computeRatio(),this.interpolation=this.ratio*-this.options.amplitude,this.displayObject.position.y+=(this.interpolation-this.displayObject.position.y)*this.options.smooth}},{key:"computeRatio",value:function(){this.distance=NSFW.currentScrollTop+window.innerHeight-this.offsetTop,this.ratio=(Math.max(0,Math.min(this.distance/(window.innerHeight+this.viewHeight),1))-.5)*this.options.depth}},{key:"render",value:function(){this.parallax(),this.displayObject.render()}},{key:"locate",value:function(){Rt(Nt(t.prototype),"locate",this).call(this),this.viewHeight=this.view.offsetHeight}},{key:"dispose",value:function(){l.unbind(this.id),Rt(Nt(t.prototype),"dispose",this).call(this)}}])&&It(i.prototype,n),r&&It(i,r),t}();function Wt(e){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Dt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vt(e,t){return!t||"object"!==Wt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qt(e,t,i){return(qt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Bt(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function Bt(e){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ht(e,t){return(Ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zt=function(e){function t(e,i,n){var r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);return(n=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){Ft(e,t,i[t])})}return e}({},{amplitude:200,smooth:.1,depth:1},n)).amplitude=NSFW.isMobile?n.amplitude/2:n.amplitude,(o=Vt(this,Bt(t).call(this,e,i,n))).isAnimFinish=!1,o.render=(r=o).render.bind(r),o.animFinished=(r=o).animFinished.bind(r),o.options.delay?v.on(K.FINISH_ANIM_IMAGE,o.animFinished):o.isAnimFinish=!0,o}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ht(e,t)}(t,jt),i=t,(n=[{key:"render",value:function(){this.isAnimFinish&&qt(Bt(t.prototype),"render",this).call(this)}},{key:"animFinished",value:function(){this.isAnimFinish=!0}}])&&Dt(i.prototype,n),r&&Dt(i,r),t}();function Yt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var $t=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=document.querySelectorAll(".js-parallax");if(t.length>0){this.parallaxesArray=[];for(var i=0;i<t.length;i++){if(!t[i].classList.contains("featured-text")||!NSFW.isMobile){var n=t[i].dataset.amplitud;this.parallaxesArray[i]=new zt("parallax"+i,t[i],{delay:t[i].dataset.delay,amplitude:n?1*n:200})}}this.onResize=this.onResize.bind(this),r.bind("parallax-resize",this.onResize)}}var t,i,n;return t=e,(i=[{key:"onResize",value:function(){for(var e=0;this.parallaxesArray&&e<this.parallaxesArray.length;e++)this.parallaxesArray[e].locate()}}])&&Yt(t.prototype,i),n&&Yt(t,n),e}();function Gt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this.prepare.bind(this))}var t,i,n;return t=e,(i=[{key:"prepare",value:function(){_.check(this.init.bind(this))}},{key:"init",value:function(){switch(A.check(),r.start(),u.start(),l.start(),!NSFW.isEdge&&NSFW.edgeVersion<16&&!NSFW.isIE&&b.start(),x.start(),this.header=new j,this.footer=new F,this.common=new D,this.BlockCenteredController=new ke,this.SVGAnimationController=new Ie,this.SliderController=new Ne,this.AnimNewsController=new gt,this.ImageAnimController=new ze,this.BgAnimController=new Je,this.AnimChildsController=new lt,this.RevealBlockController=new At,this.ParallaxController=new $t,document.querySelector("body section").getAttribute("data-template")){case"home":this.page=new Q;break;case"actualites":this.page=new ee;break;case"single-actualites":this.page=new te;break;case"single-mesures":this.page=new ne;break;case"circulation":this.page=new re;break;case"single-post":this.page=new oe;break;case"outils":this.page=new ae;break;case"apropos":this.page=new le;break;case"single-secteur":this.page=new ue}window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,i=(this.document||this.ownerDocument).querySelectorAll(e),n=this;do{for(t=i.length;--t>=0&&i.item(t)!==n;);}while(t<0&&(n=n.parentElement));return n})}}])&&Gt(t.prototype,i),n&&Gt(t,n),e}())},28:function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i}});